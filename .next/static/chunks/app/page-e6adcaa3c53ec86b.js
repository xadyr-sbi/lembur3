(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3053:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var s=t(5155),r=t(2115),l=t(2596),n=t(9688);function i(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,n.QP)((0,l.$)(a))}function c(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card",className:i("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function d(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:i("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function o(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:i("leading-none font-semibold",a),...t})}function m(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:i("px-6",a),...t})}var u=t(4624);let x=(0,t(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function h(e){let{className:a,variant:t,size:r,asChild:l=!1,...n}=e,c=l?u.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:i(x({variant:t,size:r,className:a})),...n})}function g(e){let{className:a,type:t,...r}=e;return(0,s.jsx)("input",{type:t,"data-slot":"input",className:i("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...r})}var p=t(7073);function b(e){let{className:a,...t}=e;return(0,s.jsx)(p.b,{"data-slot":"label",className:i("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...t})}var f=t(2355),v=t(3052);function j(){let[e,a]=(0,r.useState)(new Date),[t,l]=(0,r.useState)(2436886),[n,i]=(0,r.useState)(0),[u,x]=(0,r.useState)({}),[p,j]=(0,r.useState)(null),[N,y]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("overtimeData"),a=localStorage.getItem("basicSalary"),t=localStorage.getItem("workExperience");if(e)try{x(JSON.parse(e))}catch(e){console.error("Error loading overtime data:",e)}a&&l(Number(a)),t&&i(Number(t))},[]),(0,r.useEffect)(()=>{localStorage.setItem("overtimeData",JSON.stringify(u))},[u]),(0,r.useEffect)(()=>{localStorage.setItem("basicSalary",t.toString())},[t]),(0,r.useEffect)(()=>{localStorage.setItem("workExperience",n.toString())},[n]);let S=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],E=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),M=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),D=e=>e<=0?0:5e3+(e-1)*1e4,R=(e,a,t,s)=>{let r=(t+D(s))/173;if(a)if(e<=7)return e*r*2;else if(8===e)return 7*r*2+3*r;else return 7*r*2+3*r+(e-8)*r*4;return e<=1?e*r*1.5:1.5*r+(e-1)*r*2},F=a=>{j(a);let t=u["".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(a)];t?(y(t.hours.toString()),k(t.isHoliday)):(y(""),k(!1))},I=e=>{a(a=>{let t=new Date(a);return"prev"===e?t.setMonth(a.getMonth()-1):t.setMonth(a.getMonth()+1),t})};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)(c,{className:"mb-6",children:[(0,s.jsxs)(d,{className:"bg-gray-100",children:[(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)(o,{className:"text-2xl font-bold text-gray-800",children:"KALENDER HITUNG UPAH LEMBUR"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-700 mt-1",children:"SBTP - FSBI"})]}),(0,s.jsx)("div",{className:"flex items-center justify-between mt-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(b,{htmlFor:"salary",className:"font-medium",children:"UMK MADIUN:"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"Rp"}),(0,s.jsx)(g,{id:"salary",type:"number",value:t,onChange:e=>l(Number(e.target.value)),className:"w-32"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(b,{htmlFor:"experience",className:"font-medium",children:"Masa Kerja (tahun):"}),(0,s.jsx)(g,{id:"experience",type:"number",min:"0",max:"50",value:n,onChange:e=>i(Number(e.target.value)),className:"w-20"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h,{variant:"outline",size:"sm",onClick:()=>I("prev"),children:(0,s.jsx)(f.A,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-[200px] justify-center",children:[(0,s.jsx)("span",{className:"font-bold text-lg",children:S[e.getMonth()]}),(0,s.jsx)("span",{className:"font-bold text-lg",children:e.getFullYear()})]}),(0,s.jsx)(h,{variant:"outline",size:"sm",onClick:()=>I("next"),children:(0,s.jsx)(v.A,{className:"h-4 w-4"})})]})]})})]}),(0,s.jsxs)(m,{className:"p-0",children:[(0,s.jsx)("div",{className:"grid grid-cols-7 bg-yellow-100",children:["Mgg","Snin","Slsa","Rbu","Kmis","Jmat","Sbtu"].map((e,a)=>(0,s.jsx)("div",{className:"p-3 text-center font-bold border border-gray-300 ".concat(0===a||6===a?"text-red-600":"text-black"),children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7",children:(()=>{let a=E(e),t=M(e),r=[];for(let e=0;e<t;e++)r.push((0,s.jsx)("div",{className:"h-16 border border-gray-300"},"empty-".concat(e)));for(let l=1;l<=a;l++){let a=u["".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(l)],n=(t+l-1)%7==0||(t+l-1)%7==6;r.push((0,s.jsxs)("div",{onClick:()=>F(l),className:"h-16 border border-gray-300 cursor-pointer flex items-center justify-center text-sm font-medium relative\n            ".concat(a?a.isHoliday?"bg-red-500 text-white":"bg-yellow-400 text-black":"bg-green-200","\n            ").concat(n?"text-red-600":"text-black","\n            ").concat(p===l?"ring-2 ring-blue-500":"","\n            hover:bg-opacity-80 transition-colors\n          "),children:[(0,s.jsx)("span",{className:n?"text-red-600 font-bold":"",children:l}),a&&(0,s.jsxs)("div",{className:"absolute bottom-1 right-1 text-xs",children:[a.hours,"h"]})]},l))}return r})()})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{children:(0,s.jsx)(o,{children:"Input Jam Lembur"})}),(0,s.jsxs)(m,{className:"space-y-4",children:[p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsxs)(b,{children:["Tanggal Terpilih: ",p]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b,{htmlFor:"hours",children:"Jam Lembur"}),(0,s.jsx)(g,{id:"hours",type:"number",step:"0.5",min:"0",max:"10",value:N,onChange:e=>y(e.target.value),placeholder:"Masukkan jam lembur"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"holiday",checked:w,onChange:e=>k(e.target.checked),className:"rounded"}),(0,s.jsx)(b,{htmlFor:"holiday",children:"Hari Libur/Minggu"})]}),(0,s.jsx)(h,{onClick:()=>{if(p&&N){let a="".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(p),t=parseFloat(N);t>0?x(e=>({...e,[a]:{date:p,hours:t,isHoliday:w}})):x(e=>{let t={...e};return delete t[a],t}),j(null),y(""),k(!1)}},className:"w-full",children:"Simpan"})]}),!p&&(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Klik tanggal pada kalender untuk input jam lembur"})]})]}),(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{children:(0,s.jsx)(o,{children:"Ringkasan Lembur"})}),(0,s.jsxs)(m,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Total Jam Lembur:"}),(0,s.jsxs)("span",{className:"font-bold",children:[(()=>{let a=e.getFullYear(),t=e.getMonth();return Object.entries(u).reduce((e,s)=>{let[r,l]=s,[n,i]=r.split("-").map(Number);return n===a&&i===t?e+l.hours:e},0)})()," jam"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Masa Kerja:"}),(0,s.jsxs)("span",{className:"font-bold",children:[n," tahun"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Tunjangan Masa Kerja:"}),(0,s.jsxs)("span",{className:"font-bold",children:["Rp ",(5e3+(n-1)*1e4>0?5e3+(n-1)*1e4:0).toLocaleString("id-ID")]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Periode:"}),(0,s.jsxs)("span",{className:"font-bold",children:["1 - ",E(e)," ",S[e.getMonth()]," ",e.getFullYear()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold bg-green-100 p-2 rounded",children:[(0,s.jsx)("span",{children:"Total Upah Lembur:"}),(0,s.jsxs)("span",{children:["Rp ",(()=>{let a=0,s=e.getFullYear(),r=e.getMonth();return Object.entries(u).forEach(e=>{let[l,i]=e,[c,d]=l.split("-").map(Number);c===s&&d===r&&(a+=R(i.hours,i.isHoliday,t,n))}),a})().toLocaleString("id-ID")]})]})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,s.jsx)("h4",{className:"font-semibold",children:"Keterangan Warna:"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-green-200 border"}),(0,s.jsx)("span",{className:"text-sm",children:"Hari Normal"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-yellow-400 border"}),(0,s.jsx)("span",{className:"text-sm",children:"Hari Kerja Lembur"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-red-500 border"}),(0,s.jsx)("span",{className:"text-sm",children:"Hari Libur Lembur"})]})]}),(0,s.jsxs)("div",{className:"mt-6 text-xs text-gray-600",children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Perhitungan sesuai UU Ketenagakerjaan:"}),(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsx)("li",{children:"• Hari kerja: Jam 1 = 1.5x, Jam 2+ = 2x"}),(0,s.jsx)("li",{children:"• Hari libur: Jam 1-7 = 2x, Jam 8 = 3x, Jam 9-10 = 4x"}),(0,s.jsx)("li",{children:"• Upah per jam = Gaji Pokok \xf7 173"})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,s.jsx)(h,{onClick:()=>{let e=new Blob([JSON.stringify({overtimeData:u,basicSalary:t,workExperience:n,exportDate:new Date().toISOString()},null,2)],{type:"application/json"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="data-lembur-".concat(new Date().toISOString().split("T")[0],".json"),s.click(),URL.revokeObjectURL(a)},variant:"outline",size:"sm",className:"w-full",children:"Export Data"}),(0,s.jsxs)("label",{className:"w-full",children:[(0,s.jsx)("input",{type:"file",accept:".json",onChange:e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];if(t){let e=new FileReader;e.onload=e=>{try{var a;let t=JSON.parse(null==(a=e.target)?void 0:a.result);t.overtimeData&&void 0!==t.basicSalary&&void 0!==t.workExperience?(x(t.overtimeData),l(t.basicSalary),i(t.workExperience),alert("Data berhasil diimpor!")):alert("Format file tidak valid!")}catch(e){alert("Error membaca file!")}},e.readAsText(t)}e.target.value=""},className:"hidden"}),(0,s.jsx)(h,{variant:"outline",size:"sm",className:"w-full",children:"Import Data"})]}),(0,s.jsx)(h,{onClick:()=>{confirm("Apakah Anda yakin ingin menghapus semua data lembur? Data yang sudah dihapus tidak dapat dikembalikan.")&&(x({}),l(2436886),i(0),localStorage.removeItem("overtimeData"),localStorage.removeItem("basicSalary"),localStorage.removeItem("workExperience"),j(null),y(""),k(!1))},variant:"outline",size:"sm",className:"w-full text-red-600",children:"Hapus Semua Data"})]})]})]})]})]})})}},3653:(e,a,t)=>{Promise.resolve().then(t.bind(t,3053))}},e=>{var a=a=>e(e.s=a);e.O(0,[624,441,684,358],()=>a(3653)),_N_E=e.O()}]);